\import{topology/topological-space.tex}
\import{numbers.tex}
\import{function.tex}
\import{set/powerset.tex}
\import{topology/basis.tex}

\section{Metric Spaces}

\begin{definition}\label{metric}
    $f$ is a metric on $M$ iff $f$ is a function from $M \times M$ to $\reals$ and
    for all $x,y,z \in M$ we have 
        $f(x,x) = \zero$ and 
        $f(x,y) = f(y,x)$ and
        $f(x,y) \leq f(x,z) + f(z,y)$ and
        if $x \neq y$ then $\zero < f(x,y)$.
\end{definition}

\begin{definition}\label{open_ball}
    $\openball{r}{x}{f} = \{z \in M \mid \text{ $f$ is a metric on $M$ and $f(x,z) < r$ } \}$.
\end{definition}



\begin{definition}\label{set_of_balls}
    $\balls{d}{M} = \{ O \in \pow{M} \mid \text{there exists $x,r$ such that $r \in \reals$ and $x \in M$ and $O = \openball{r}{x}{d}$ } \}$.
\end{definition}


\begin{definition}\label{metricopens}
    $\metricopens{d}{M} = \genOpens{\balls{d}{M}}{M}$.
\end{definition}





%TODO: \metric_opens{d} =  {hier die construction fÃ¼r topology} DONE.
%TODO: Die induzierte topology definieren und dann in struct verwenden.


\begin{struct}\label{metric_space}  
    A metric space $M$ is a onesorted structure equipped with
    \begin{enumerate}
        \item $\metric$
    \end{enumerate}
    such that
    \begin{enumerate}
        \item \label{metric_space_metric}                   $\metric[M]$ is a metric on $M$.
        \item \label{metric_space_topology}                 $M$ is a topological space.
        \item \label{metric_space_opens}                    $\metricopens{ \metric[M] }{M} = \opens[M]$.
    \end{enumerate}
\end{struct}

\begin{abbreviation}\label{descriptive_syntax_for_openball1}
    $U$ is an open ball in $M$ of $x$ with radius $r$ iff $x \in M$ and $M$ is a metric space and $U = \openball{r}{x}{\metric[M]}$.
\end{abbreviation}

\begin{abbreviation}\label{descriptive_syntax_for_openball2}
    $U$ is an open ball in $M$ iff there exist $x \in M$ such that there exist $r \in \reals$ such that $U$ is an open ball in $M$ of $x$ with radius $r$.
\end{abbreviation}

\begin{lemma}\label{union_of_open_balls_is_open}
    Let $M$ be a metric space.
    For all $U,V \subseteq M$ if $U$, $V$ are open balls in $M$ then $U \union V$ is open in $M$.
\end{lemma}




\begin{lemma}\label{metric_implies_topology}
    Let $M$ be a set, and let $f$ be a metric on $M$.
    Then $M$ is a metric space.
\end{lemma}


